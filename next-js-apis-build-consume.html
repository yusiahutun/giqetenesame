<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=description content="Gone are the days when you had to create a separate backend for your website. With Next.js file-based API routing, you can make your life easier by writing your API inside a Next.js project. Next.js is a React meta-framework with features that simplify the process of building production-ready web apps. You will see how to"><meta name=author content="Aldo Pusey"><meta name=generator content="Hugo 0.98.0"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=robots content="index,follow,noarchive"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/base16/css/style.css type=text/css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type=text/css><link rel=alternate href=./index.xml type=application/rss+xml title=ZestD><title>How to Build and Consume an API in Next.js - ZestD</title></head><body><header><div class="container clearfix"><a class=path href=./index.html>[ZestD]</a>
<span class=caret># _</span><div class=right></div></div></header><div class=container><main role=main class=article><article class=single itemscope itemtype=http://schema.org/BlogPosting><div class=meta><span class=key>published on</span>
<span class=val><time itemprop=datePublished datetime=2024-02-16>February 16, 2024</time></span>
<span class=key>in</span>
<span class=val><a href=./categories/blog>blog</a></span></div><h1 class=headline itemprop=headline>How to Build and Consume an API in Next.js</h1><section class=body itemprop=articleBody><img src=https://cdn.statically.io/img/static1.makeuseofimages.com/wordpress/wp-content/uploads/2022/10/pexels-thisisengineering-3861943.jpg style=margin:auto;display:block;text-align:center;max-width:100%;height:auto><p>Gone are the days when you had to create a separate backend for your website. With Next.js file-based API routing, you can make your life easier by writing your API inside a Next.js project.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>Next.js is a React meta-framework with features that simplify the process of building production-ready web apps. You will see how to build a REST API in Next.js and consume the data from that API on a Next.js page.</p><h2 id=create-a-next-js-project-using-create-next-app>Create a Next.js Project Using create-next-app</h2><p>You can create a new Next.js project using the create-next-app CLI tool. It installs the necessary packages and files to get you started with building a Next.js application.</p><p>Run this command in a terminal to create a new Next.js folder called api-routes. You may receive a prompt to install create-next-app.</p><pre><code class="hljs sql">npx <span class=hljs-keyword>create</span>-<span class=hljs-keyword>next</span>-app api-routes<br></code> </pre><p>When the command finishes, open the api-routes folder to start creating the API routes.</p><h2 id=api-routing-in-next-js>API Routing in Next.js</h2><p>API routes run on the server and have many uses like saving user data to a database or fetching data from an API without raising the <a href=#>CORS policy error</a>.</p><p>In Next.js, you must create API routes inside the /pages/api folder. Next.js generates API endpoints for each of the files in this folder. If you add user.js to /pages/api, Next.js will create an endpoint at http://localhost:3000/api/user.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><p>A basic Next.js API route has the following syntax.</p><pre><code class="hljs php"><span class=hljs-keyword>export</span>&nbsp;<span class=hljs-keyword>default</span>&nbsp;<span class=hljs-function><span class=hljs-keyword>function</span>&nbsp;<span class=hljs-title>handler</span>(<span class=hljs-params>req, res</span>) </span>{<br>&nbsp;&nbsp;<span class=hljs-selector-tag>res</span><span class=hljs-selector-class>.status</span>(200)<span class=hljs-selector-class>.json</span>({ <span class=hljs-attribute>name</span>: <span class=hljs-string>'John Doe'</span> })<br>}<br></code> </pre><p>You must export the handler function for it to work.</p><h2 id=creating-api-routes>Creating API Routes</h2><p>Create a new file called todo.js in the <strong>/pages/api</strong> folder to add an API route for todo items.</p><h3 id=mocking-the-todo-database>Mocking the Todo Database</h3><p>To get the todos, you must create a GET endpoint. For simplicity. This tutorial uses an array of todo items instead of a database but feel free to use a database like MongoDB or MySQL.</p><p>Create the todo items in todo.js in the root folder of your application then add the following data.</p><pre><code class="hljs xml"><span class=hljs-keyword>export</span>&nbsp;<span class=hljs-keyword>const</span> todos = [<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;id: 1,<br>&nbsp;&nbsp;&nbsp;&nbsp;todo: <span class=hljs-string>"Do something nice for someone I care about"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;completed: <span class=hljs-literal>true</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;userId: 26,<br>&nbsp;&nbsp;},<br>&nbsp;&nbsp;{<br>&nbsp;&nbsp;&nbsp;&nbsp;id: 2,<br>&nbsp;&nbsp;&nbsp;&nbsp;todo: <span class=hljs-string>"Memorize the fifty states and their capitals"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;completed: <span class=hljs-literal>false</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;userId: 48,<br>&nbsp;&nbsp;},<br>&nbsp;&nbsp;<span class=hljs-comment>// other todos</span><br>];<br></code> </pre><p>These todo items are from the DummyJSON website, a <a href=#>REST API</a> for mock data. You can find the exact data from this <a href=# rel="noopener noreferrer">DummyJSON todos endpoint</a>.</p><p>Next, create the API route in <strong>/pages/api/todos.js</strong> and add the handler function.</p><pre><code class="hljs xml"><span class=hljs-keyword>import</span> { todos } <span class=hljs-keyword>from</span>&nbsp;<span class=hljs-string>"../../todo"</span>;<br>&nbsp;<br><span class=hljs-keyword>export</span>&nbsp;<span class=hljs-function><span class=hljs-keyword>function</span>&nbsp;<span class=hljs-title>handler</span>(<span class=hljs-params>req, res</span>) </span>{<br>&nbsp;&nbsp;<span class=hljs-keyword>const</span> { method } = req;<br>&nbsp;<br>&nbsp;&nbsp;<span class=hljs-keyword>switch</span> (method) {<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>case</span>&nbsp;<span class=hljs-string>"GET"</span>:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-selector-tag>res</span><span class=hljs-selector-class>.status</span>(200)<span class=hljs-selector-class>.json</span>(<span class=hljs-selector-tag>todos</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>break</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>case</span>&nbsp;<span class=hljs-string>"POST"</span>:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>const</span> { todo, completed } = req.body;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-selector-tag>todos</span><span class=hljs-selector-class>.push</span>({<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-selector-tag>id</span>: <span class=hljs-selector-tag>todos</span><span class=hljs-selector-class>.length</span> + 1,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;todo,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;completed,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-selector-tag>res</span><span class=hljs-selector-class>.status</span>(200)<span class=hljs-selector-class>.json</span>(<span class=hljs-selector-tag>todos</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>break</span>;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>default</span>:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-selector-tag>res</span><span class=hljs-selector-class>.setHeader</span>("<span class=hljs-selector-tag>Allow</span>", <span class=hljs-selector-attr>[<span class=hljs-string>"GET"</span>, <span class=hljs-string>"POST"</span>]</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;res.status(<span class=hljs-number>405</span>).end(<span class=hljs-string>`Method <span class=hljs-subst>${method}</span> Not Allowed`</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>break</span>;<br>&nbsp;&nbsp;}<br>}<br></code> </pre><p>This route handles the GET and POST endpoints. It returns all the todos for the GET request and adds a todo item to the todo database for a POST request. For other methods, the handler returns an error.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><h2 id=consuming-api-routes-in-the-frontend>Consuming API Routes in the Frontend</h2><p>You have created an API endpoint that returns a JSON object containing an array of todos.</p><p>To consume the API, create a function called fetchTodos that retrieves data from the API endpoint. The function uses the fetch method but you can also <a href=#>use Axios to make API requests</a>. Then call this function when you click a button.</p><pre><code class="hljs xml"><span class=hljs-keyword>import</span> Head <span class=hljs-keyword>from</span>&nbsp;<span class=hljs-string>"next/head"</span>;<br><span class=hljs-keyword>import</span> { useState } <span class=hljs-keyword>from</span>&nbsp;<span class=hljs-string>"react"</span>; <br>&nbsp;<br><span class=hljs-keyword>export</span>&nbsp;<span class=hljs-keyword>default</span>&nbsp;<span class=hljs-function><span class=hljs-keyword>function</span>&nbsp;<span class=hljs-title>Home</span>(<span class=hljs-params></span>) </span>{<br>&nbsp;&nbsp;<span class=hljs-keyword>const</span> [todos, settodos] = useState([]);<br>&nbsp;<br>&nbsp;&nbsp;<span class=hljs-keyword>const</span> fetchTodos = <span class=hljs-keyword>async</span> () =&gt; {<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>const</span> response = <span class=hljs-keyword>await</span> fetch(<span class=hljs-string>"/api/todos"</span>);<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>const</span> data = <span class=hljs-keyword>await</span> response.json();<br>&nbsp;&nbsp;&nbsp;&nbsp;settodos(data);<br>&nbsp;&nbsp;};<br>&nbsp;<br>&nbsp;&nbsp;<span class=hljs-keyword>return</span> (<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;<span class=hljs-name>div</span>&nbsp;<span class=hljs-attr>className</span>=<span class=hljs-string>{styles.container}</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;<span class=hljs-name>Head</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;<span class=hljs-name>title</span>&gt;</span>Create Next App<span class=hljs-tag>&lt;/<span class=hljs-name>title</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;<span class=hljs-name>meta</span>&nbsp;<span class=hljs-attr>name</span>=<span class=hljs-string>"description"</span>&nbsp;<span class=hljs-attr>content</span>=<span class=hljs-string>"Generated by create next app"</span> /&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;<span class=hljs-name>link</span>&nbsp;<span class=hljs-attr>rel</span>=<span class=hljs-string>"icon"</span>&nbsp;<span class=hljs-attr>href</span>=<span class=hljs-string>"/favicon.ico"</span> /&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;/<span class=hljs-name>Head</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;<span class=hljs-name>main</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;<span class=hljs-name>button</span>&nbsp;<span class=hljs-attr>onClick</span>=<span class=hljs-string>{fetchTodos}</span>&gt;</span>Get todos<span class=hljs-tag>&lt;/<span class=hljs-name>button</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;<span class=hljs-name>ul</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{todos.map(<span class=hljs-function>(<span class=hljs-params>todo</span>) =&gt;</span> {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>return</span> (<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style={{ <span class=hljs-attr>color</span>: <span class=hljs-string>`<span class=hljs-subst>${todo.completed ? <span class=hljs-string>"green"</span> : <span class=hljs-string>"red"</span>}</span>`</span> }}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key={todo.id}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{todo.todo}:{todo.completed}.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;/<span class=hljs-name>li</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})}<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;/<span class=hljs-name>ul</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;/<span class=hljs-name>main</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>&gt;</span><br>&nbsp;&nbsp;);<br>}<br></code> </pre><p>The list in this snippet displays the todo items when they are fetched.</p><p>For the POST endpoint, create a new function called saveTodo that makes a POST request to the API. The fetch request stores the new todo item in the body and returns all the todo items including the new one. The saveTodo function then stores them in the todos state.</p><pre><code class="hljs xml"><span class=hljs-keyword>const</span> saveTodo = <span class=hljs-keyword>async</span> () =&gt; {<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>const</span> response = <span class=hljs-keyword>await</span> fetch(<span class=hljs-string>"/api/todos"</span>, {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method: <span class=hljs-string>"POST"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;body: <span class=hljs-built_in>JSON</span>.stringify(newTodo),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;headers: {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-string>"Content-Type"</span>: <span class=hljs-string>"application/json"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>const</span> data = <span class=hljs-keyword>await</span> response.json();<br>&nbsp;&nbsp;&nbsp;&nbsp;settodos(data);<br>};<br></code> </pre><p>Then, create a form with a text input bar to receive the new todo item. The submit handler function of this form will call the saveTodo function.</p><strong class="an-zone-tag-top ad-zone-advertising-tag"></strong> <strong class="an-zone-tag-bottom ad-zone-advertising-sub-tag"></strong><pre><code class="hljs xml"><span class=hljs-keyword>import</span> Head <span class=hljs-keyword>from</span>&nbsp;<span class=hljs-string>"next/head"</span>;<br><span class=hljs-keyword>import</span> { useReducer, useState } <span class=hljs-keyword>from</span>&nbsp;<span class=hljs-string>"react"</span>;<br><span class=hljs-keyword>import</span> styles <span class=hljs-keyword>from</span>&nbsp;<span class=hljs-string>"../styles/Home.module.css"</span>;<br>&nbsp;<br><span class=hljs-keyword>export</span>&nbsp;<span class=hljs-keyword>default</span>&nbsp;<span class=hljs-function><span class=hljs-keyword>function</span>&nbsp;<span class=hljs-title>Home</span>(<span class=hljs-params></span>) </span>{<br>&nbsp;&nbsp;<span class=hljs-keyword>const</span> [todos, settodos] = useState([]);<br>&nbsp;<br>&nbsp;&nbsp;<span class=hljs-keyword>const</span> [newTodo, setnewTodo] = useState({<br>&nbsp;&nbsp;&nbsp;&nbsp;todo: <span class=hljs-string>""</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;completed: <span class=hljs-literal>false</span>,<br>&nbsp;&nbsp;});<br>&nbsp;<br>&nbsp;&nbsp;<span class=hljs-keyword>const</span> fetchTodos = <span class=hljs-keyword>async</span> () =&gt; {<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-comment>// fetchTodos</span><br>&nbsp;&nbsp;};<p>&nbsp;&nbsp;<span class=hljs-keyword>const</span> saveTodo = <span class=hljs-keyword>async</span> (e) =&gt; {<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>const</span> response = <span class=hljs-keyword>await</span> fetch(<span class=hljs-string>"/api/todos"</span>, {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method: <span class=hljs-string>"POST"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;body: <span class=hljs-built_in>JSON</span>.stringify(newTodo),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;headers: {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-string>"Content-Type"</span>: <span class=hljs-string>"application/json"</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br>&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-keyword>const</span> data = <span class=hljs-keyword>await</span> response.json();<br>&nbsp;&nbsp;&nbsp;&nbsp;settodos(data);<br>&nbsp;&nbsp;};<br>&nbsp;<br>&nbsp;&nbsp;<span class=hljs-keyword>const</span> handleChange = <span class=hljs-function>(<span class=hljs-params>e</span>) =&gt;</span> {<br>&nbsp;&nbsp;&nbsp;&nbsp;setnewTodo({<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-selector-tag>todo</span>: <span class=hljs-selector-tag>e</span><span class=hljs-selector-class>.target</span><span class=hljs-selector-class>.value</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;};<br>&nbsp;<br>&nbsp;&nbsp;<span class=hljs-keyword>const</span> handleSubmit = <span class=hljs-function>(<span class=hljs-params>e</span>) =&gt;</span> {<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-selector-tag>e</span><span class=hljs-selector-class>.preventDefault</span>();<br>&nbsp;&nbsp;&nbsp;&nbsp;saveTodo();<br>&nbsp;&nbsp;&nbsp;&nbsp;setnewTodo({<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;todo: <span class=hljs-string>''</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;});<br>&nbsp;&nbsp;};<br>&nbsp;<br>&nbsp;&nbsp;<span class=hljs-keyword>return</span> (<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;<span class=hljs-name>div</span>&nbsp;<span class=hljs-attr>className</span>=<span class=hljs-string>{styles.container}</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;<span class=hljs-name>Head</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;<span class=hljs-name>title</span>&gt;</span>Create Next App<span class=hljs-tag>&lt;/<span class=hljs-name>title</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;<span class=hljs-name>meta</span>&nbsp;<span class=hljs-attr>name</span>=<span class=hljs-string>"description"</span>&nbsp;<span class=hljs-attr>content</span>=<span class=hljs-string>"Generated by create next app"</span> /&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;<span class=hljs-name>link</span>&nbsp;<span class=hljs-attr>rel</span>=<span class=hljs-string>"icon"</span>&nbsp;<span class=hljs-attr>href</span>=<span class=hljs-string>"/favicon.ico"</span> /&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;/<span class=hljs-name>Head</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;<span class=hljs-name>main</span>&gt;</span><br> <span class=hljs-comment>// Fetches the todo items when clicked</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;<span class=hljs-name>button</span>&nbsp;<span class=hljs-attr>onClick</span>=<span class=hljs-string>{fetchTodos}</span>&gt;</span>Get todos<span class=hljs-tag>&lt;/<span class=hljs-name>button</span>&gt;</span><br>&nbsp;<br> <span class=hljs-comment>// Saves a new todo item when submitted</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;<span class=hljs-name>form</span>&nbsp;<span class=hljs-attr>onSubmit</span>=<span class=hljs-string>{handleSubmit}</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;<span class=hljs-name>input</span>&nbsp;<span class=hljs-attr>type</span>=<span class=hljs-string>"text"</span>&nbsp;<span class=hljs-attr>onChange</span>=<span class=hljs-string>{handleChange}</span>&nbsp;<span class=hljs-attr>value</span>=<span class=hljs-string>{newTodo.todo}</span> /&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;/<span class=hljs-name>form</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;<span class=hljs-name>ul</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class=hljs-comment>// list todo items}</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;/<span class=hljs-name>ul</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;/<span class=hljs-name>main</span>&gt;</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class=hljs-tag>&lt;/<span class=hljs-name>div</span>&gt;</span><br>&nbsp;&nbsp;);<br>}<br></p></code> </pre><p>The handler adds a new todo to the database every time a user submits the form. Also, this function updates the todos value using the data received from the API which in turn adds the new todo item to the list.</p><h2 id=api-routing-is-just-one-of-next-js-rsquo-s-strengths>API Routing Is Just One of Next.js’s Strengths</h2><p>You have seen how you build and use a Next.js API route. Now you can create a full stack application without leaving your Next.js project folder. API routing is one of the many benefits that Next.js provides.</p><p>Next.js also offers performance optimizations such as code splitting, lazy loading, and built-in CSS support. If you are building a website that needs to be fast and SEO friendly, you should consider Next.js.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7rq3KnqysnZ%2Bbe6S7zGilnrCkYre0ecCpoKxlkqq2rbCMnKanq6WisnA%3D</p></section></article></main></div><footer><div class=container><span class=copyright>&copy; 2024 ZestD - <a rel=license href=http://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a></span></div></footer><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>